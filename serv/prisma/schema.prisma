datasource db {
  provider = "mysql"
  url      = "mysql://root:dhia2002@localhost:3306/doctor"
}

generator client {
  provider = "prisma-client-js"
}

model user {
  id           Int      @id @default(autoincrement()) 
  firstname    String
  lastname     String
  username     String
  email        String   @unique
  password     String
  usertype     String
  phonenumber  String
  imageurl     String
  doctorid     Int
  doctor       Doctor   @relation(fields: [doctorid], references: [id])
  specialityid Int
  speciality   speciality @relation(fields: [specialityid], references: [id])
}

model speciality {
  id      Int      @id @default(autoincrement())
  name    String
  doctors user[]
}

model doctor {
  id      Int     @id @default(autoincrement())
  doctors user[]
}

model message {
  id      Int     @id @default(autoincrement())
  content String
}

model appointment {
  id                   Int              @id @default(autoincrement())
  appointmenttime      DateTime
  status               Appointmentstatus @default(Pending)
  appointmentdepartment String?
  patient              user             @relation("PatientAppointments", fields: [patientid], references: [id])
  patientid            Int
  doctor               doctor           @relation(fields: [doctorid], references: [id])
  doctorid             Int
}

enum appointmentstatus {
  Pending
  Confirmed
  Cancelled
}

model conversation {
  id    Int     @id @default(autoincrement())
}

model room {
  id    Int     @id @default(autoincrement())
}

model ratingscomments {
  id       Int      @id @default(autoincrement())
  rating   Int
  review   String?
  imagesrc String?
  name     String?
}

model admin {
  id       Int      @id @default(autoincrement())
  username String   @unique
  email    String   @unique
  password String
}

model payments {
  id          Int      @id @default(autoincrement())
  amount      Decimal
  paymentdate DateTime
}

model blog {
  id       Int      @id @default(autoincrement())
  title    String
  text     String
  imageurl String?
  comments comment[]
}

model comment {
  id        Int      @id @default(autoincrement())
  author    String
  comment   String
  timestamp DateTime
  blogid    Int
  userid    Int
  @@index([blogid], map: "Comment_blogId_fkey")
}

model product {
  id       Int     @id @default(autoincrement())
  name     String
  price    Decimal
  imageurl String?
  category String
}
